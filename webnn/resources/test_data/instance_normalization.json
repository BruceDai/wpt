{
  "tests": [
    {
      "name": "instanceNormalization float32 4D tensor default options", // default options: {epsilon: 1e-5, layout: "nchw"}
      "inputs": {
        "input": {
          "shape": [2, 3, 2, 2],
          "data": [
            99.30330344426085,
            73.98162674078023,
            75.6477059322905,
            35.25039138938695,
            29.58719507656116,
            99.16577247763502,
            49.89740596495028,
            66.17769203366169,
            67.78187133951988,
            8.102072045304396,
            43.574974998290116,
            -28.502407101022825,
            -88.29229150473039,
            -39.551303521222536,
            -29.729292325700385,
            21.88369116603512,
            -35.69942491632388,
            -69.14975855552706,
            88.07460121440923,
            26.24252944588919,
            21.765918560786844,
            59.71126464622438,
            49.92894906133961,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "expected": {
        "name": "output",
        "shape": [2, 3, 2, 2],
        "data": [
          1.2304528951644897,
          0.12784017622470856,
          0.20038817822933197,
          -1.5586812496185303,
          -1.2418336868286133,
          1.4907883405685425,
          -0.4441724121570587,
          0.19521771371364594,
          1.2370786666870117,
          -0.4020001292228699,
          0.5722471475601196,
          -1.4073256254196167,
          -1.39003324508667,
          -0.1439121961593628,
          0.10719918459653854,
          1.4267463684082031,
          -0.6326953768730164,
          -1.18866765499115,
          1.4245316982269287,
          0.39683133363723755,
          0.20477810502052307,
          0.8205929398536682,
          0.6618357300758362,
          -1.687206745147705
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor options.scale",
      "inputs": {
        "input": {
          "shape": [2, 3, 2, 2],
          "data": [
            99.30330344426085,
            73.98162674078023,
            75.6477059322905,
            35.25039138938695,
            29.58719507656116,
            99.16577247763502,
            49.89740596495028,
            66.17769203366169,
            67.78187133951988,
            8.102072045304396,
            43.574974998290116,
            -28.502407101022825,
            -88.29229150473039,
            -39.551303521222536,
            -29.729292325700385,
            21.88369116603512,
            -35.69942491632388,
            -69.14975855552706,
            88.07460121440923,
            26.24252944588919,
            21.765918560786844,
            59.71126464622438,
            49.92894906133961,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "scale": {
          "shape": [3],
          "data": [
            -35.88261796605212,
            56.54419928999101,
            30.856352770506987
          ],
          "type": "float32"
        }
      },
      "expected": {
        "name": "output",
        "shape": [2, 3, 2, 2],
        "data": [
          -44.15187072753906,
          -4.587240219116211,
          -7.190452575683594,
          55.929561614990234,
          -70.21849060058594,
          84.29544067382812,
          -25.115373611450195,
          11.038429260253906,
          38.17173385620117,
          -12.404257774353027,
          17.657459259033203,
          -43.42493438720703,
          49.87803268432617,
          5.163946628570557,
          -3.8465874195098877,
          -51.19539260864258,
          -35.77525329589844,
          -67.21226501464844,
          80.54900360107422,
          22.43851089477539,
          6.3187055587768555,
          25.32050323486328,
          20.421836853027344,
          -52.0610466003418
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor options.bias",
      "inputs": {
        "input": {
          "shape": [2, 3, 2, 2],
          "data": [
            99.30330344426085,
            73.98162674078023,
            75.6477059322905,
            35.25039138938695,
            29.58719507656116,
            99.16577247763502,
            49.89740596495028,
            66.17769203366169,
            67.78187133951988,
            8.102072045304396,
            43.574974998290116,
            -28.502407101022825,
            -88.29229150473039,
            -39.551303521222536,
            -29.729292325700385,
            21.88369116603512,
            -35.69942491632388,
            -69.14975855552706,
            88.07460121440923,
            26.24252944588919,
            21.765918560786844,
            59.71126464622438,
            49.92894906133961,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "bias": {
          "shape": [3],
          "data": [
            -18.591951655763367,
            -60.634041094544685,
            45.46978179241856
          ],
          "type": "float32"
        }
      },
      "expected": {
        "name": "output",
        "shape": [2, 3, 2, 2],
        "data": [
          -17.36149787902832,
          -18.464111328125,
          -18.391563415527344,
          -20.150632858276367,
          -61.87587356567383,
          -59.143253326416016,
          -61.07821273803711,
          -60.43882369995117,
          46.70685958862305,
          45.067779541015625,
          46.04202651977539,
          44.06245422363281,
          -19.981985092163086,
          -18.735862731933594,
          -18.484752655029297,
          -17.165205001831055,
          -61.2667350769043,
          -61.82270812988281,
          -59.209510803222656,
          -60.23720932006836,
          45.674556732177734,
          46.290374755859375,
          46.131614685058594,
          43.78257369995117
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor options.epsilon",
      "inputs": {
        "input": {
          "shape": [2, 3, 2, 2],
          "data": [
            99.30330344426085,
            73.98162674078023,
            75.6477059322905,
            35.25039138938695,
            29.58719507656116,
            99.16577247763502,
            49.89740596495028,
            66.17769203366169,
            67.78187133951988,
            8.102072045304396,
            43.574974998290116,
            -28.502407101022825,
            -88.29229150473039,
            -39.551303521222536,
            -29.729292325700385,
            21.88369116603512,
            -35.69942491632388,
            -69.14975855552706,
            88.07460121440923,
            26.24252944588919,
            21.765918560786844,
            59.71126464622438,
            49.92894906133961,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "epsilon": 1e-6
      },
      "expected": {
        "name": "output",
        "shape": [2, 3, 2, 2],
        "data": [
          1.2304528951644897,
          0.12784017622470856,
          0.20038817822933197,
          -1.5586812496185303,
          -1.2418336868286133,
          1.4907883405685425,
          -0.4441724121570587,
          0.19521771371364594,
          1.2370786666870117,
          -0.4020001292228699,
          0.5722471475601196,
          -1.4073256254196167,
          -1.39003324508667,
          -0.1439121961593628,
          0.10719918459653854,
          1.4267463684082031,
          -0.6326953768730164,
          -1.18866765499115,
          1.4245316982269287,
          0.39683133363723755,
          0.20477810502052307,
          0.8205929398536682,
          0.6618357300758362,
          -1.687206745147705
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor options.layout='nchw'",
      "inputs": {
        "input": {
          "shape": [2, 3, 2, 2],
          "data": [
            99.30330344426085,
            73.98162674078023,
            75.6477059322905,
            35.25039138938695,
            29.58719507656116,
            99.16577247763502,
            49.89740596495028,
            66.17769203366169,
            67.78187133951988,
            8.102072045304396,
            43.574974998290116,
            -28.502407101022825,
            -88.29229150473039,
            -39.551303521222536,
            -29.729292325700385,
            21.88369116603512,
            -35.69942491632388,
            -69.14975855552706,
            88.07460121440923,
            26.24252944588919,
            21.765918560786844,
            59.71126464622438,
            49.92894906133961,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "layout": "nchw"
      },
      "expected": {
        "name": "output",
        "shape": [2, 3, 2, 2],
        "data": [
          1.2304528951644897,
          0.12784017622470856,
          0.20038817822933197,
          -1.5586812496185303,
          -1.2418336868286133,
          1.4907883405685425,
          -0.4441724121570587,
          0.19521771371364594,
          1.2370786666870117,
          -0.4020001292228699,
          0.5722471475601196,
          -1.4073256254196167,
          -1.39003324508667,
          -0.1439121961593628,
          0.10719918459653854,
          1.4267463684082031,
          -0.6326953768730164,
          -1.18866765499115,
          1.4245316982269287,
          0.39683133363723755,
          0.20477810502052307,
          0.8205929398536682,
          0.6618357300758362,
          -1.687206745147705
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor options.layout='nhwc'",
      "inputs": {
        "input": {
          "shape": [2, 2, 2, 3],
          "data": [
            99.30330344426085,
            29.58719507656116,
            67.78187133951988,
            73.98162674078023,
            99.16577247763502,
            8.102072045304396,
            75.6477059322905,
            49.89740596495028,
            43.574974998290116,
            35.25039138938695,
            66.17769203366169,
            -28.502407101022825,
            -88.29229150473039,
            -35.69942491632388,
            21.765918560786844,
            -39.551303521222536,
            -69.14975855552706,
            59.71126464622438,
            -29.729292325700385,
            88.07460121440923,
            49.92894906133961,
            21.88369116603512,
            26.24252944588919,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "layout": "nhwc"
      },
      "expected": {
        "name": "output",
        "shape": [2, 2, 2, 3],
        "data": [
          1.2304528951644897,
          -1.2418336868286133,
          1.2370786666870117,
          0.12784017622470856,
          1.4907883405685425,
          -0.4020001292228699,
          0.20038817822933197,
          -0.4441724121570587,
          0.5722471475601196,
          -1.5586812496185303,
          0.19521771371364594,
          -1.4073256254196167,
          -1.39003324508667,
          -0.6326953768730164,
          0.20477810502052307,
          -0.1439121961593628,
          -1.18866765499115,
          0.8205929398536682,
          0.10719918459653854,
          1.4245316982269287,
          0.6618357300758362,
          1.4267463684082031,
          0.39683133363723755,
          -1.687206745147705
        ],
        "type": "float32"
      }
    },
    {
      "name": "instanceNormalization float32 4D tensor all options",
      "inputs": {
        "input": {
          "shape": [2, 2, 2, 3],
          "data": [
            99.30330344426085,
            29.58719507656116,
            67.78187133951988,
            73.98162674078023,
            99.16577247763502,
            8.102072045304396,
            75.6477059322905,
            49.89740596495028,
            43.574974998290116,
            35.25039138938695,
            66.17769203366169,
            -28.502407101022825,
            -88.29229150473039,
            -35.69942491632388,
            21.765918560786844,
            -39.551303521222536,
            -69.14975855552706,
            59.71126464622438,
            -29.729292325700385,
            88.07460121440923,
            49.92894906133961,
            21.88369116603512,
            26.24252944588919,
            -94.81462341299616
          ],
          "type": "float32"
        }
      },
      "options": {
        "scale": {
          "shape": [3],
          "data": [
            -35.88261796605212,
            56.54419928999101,
            30.856352770506987
          ],
          "type": "float32"
        },
        "bias": {
          "shape": [3],
          "data": [
            -18.591951655763367,
            -60.634041094544685,
            45.46978179241856
          ],
          "type": "float32"
        },
        "epsilon": 1e-6,
        "layout": "nhwc"
      },
      "expected": {
        "name": "output",
        "shape": [2, 2, 2, 3],
        "data": [
          -62.74382019042969,
          -130.8525390625,
          83.64151000976562,
          -23.17919158935547,
          23.661396026611328,
          33.065521240234375,
          -25.78240394592285,
          -85.7494125366211,
          63.12723922729492,
          37.33761215209961,
          -49.595611572265625,
          2.044843912124634,
          31.286083221435547,
          -96.40929412841797,
          51.78848648071289,
          -13.42800521850586,
          -127.84630584716797,
          70.790283203125,
          -22.438539505004883,
          19.914966583251953,
          65.89161682128906,
          -69.78734588623047,
          -38.19552993774414,
          -6.591265678405762
        ],
        "type": "float32"
      }
    }
  ]
}